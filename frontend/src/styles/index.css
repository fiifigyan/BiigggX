@tailwind base;
@tailwind components;
@tailwind utilities;

/* ─── Custom Base Styles ───────────────────────────────── */
@layer base {
  html {
    scroll-behavior: smooth;
    background-color: #000000;
  }

  body {
    font-family: 'Montserrat', sans-serif;
    background-color: #000000;
    color: #ffffff;
    overflow-x: hidden;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  h1, h2, h3 {
    font-family: 'Bebas Neue', cursive;
    letter-spacing: 0.05em;
  }

  a {
    color: inherit;
    text-decoration: none;
  }
}

/* ─── Utility Classes ──────────────────────────────────── */
@layer utilities {
  /* Neon text glows */
  .text-neon-glow {
    text-shadow: 0 0 4px #00BFFF, 0 0 11px #00BFFF, 0 0 19px #00BFFF;
  }

  .text-crimson-glow {
    text-shadow: 0 0 4px #E53935, 0 0 11px #E53935, 0 0 19px #E53935;
  }

  .text-urban-glow {
    text-shadow: 0 0 4px #B0B0B0, 0 0 11px #B0B0B0;
  }

  /* Border glows */
  .border-neon-glow {
    box-shadow: 0 0 5px #00BFFF, 0 0 15px #00BFFF, inset 0 0 5px rgba(0, 191, 255, 0.1);
  }

  .border-crimson-glow {
    box-shadow: 0 0 5px #E53935, 0 0 15px #E53935, inset 0 0 5px rgba(229, 57, 53, 0.1);
  }

  /* Graffiti texture overlay */
  .graffiti-overlay::before {
    content: '';
    position: absolute;
    inset: 0;
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='300' height='300'%3E%3Cfilter id='n'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.75' numOctaves='4' stitchTiles='stitch'/%3E%3CfeColorMatrix type='saturate' values='0'/%3E%3C/filter%3E%3Crect width='300' height='300' filter='url(%23n)' opacity='0.08'/%3E%3C/svg%3E");
    pointer-events: none;
    z-index: 1;
    opacity: 0.15;
  }

  /* Paint splatter pseudo element */
  .splatter-bg {
    position: relative;
    overflow: hidden;
  }

  /* Scan lines effect */
  .scanlines::after {
    content: '';
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
      0deg,
      transparent,
      transparent 2px,
      rgba(0, 0, 0, 0.05) 2px,
      rgba(0, 0, 0, 0.05) 4px
    );
    pointer-events: none;
    z-index: 2;
  }

  /* Clip path shapes */
  .clip-slash {
    clip-path: polygon(5% 0%, 100% 0%, 95% 100%, 0% 100%);
  }

  .clip-x-left {
    clip-path: polygon(0 0, 85% 0, 100% 100%, 15% 100%);
  }
}

/* ─── Component Styles ─────────────────────────────────── */
@layer components {
  /* CTA Button — Crimson */
  .btn-crimson {
    @apply relative inline-flex items-center justify-center px-8 py-3 font-montserrat font-bold uppercase tracking-widest text-white bg-crimson overflow-hidden transition-all duration-300;
    clip-path: polygon(0 0, calc(100% - 12px) 0, 100% 12px, 100% 100%, 12px 100%, 0 calc(100% - 12px));
  }
  .btn-crimson::before {
    content: '';
    @apply absolute inset-0 bg-white opacity-0 transition-opacity duration-300;
  }
  .btn-crimson:hover::before { opacity: 0.1; }
  .btn-crimson:hover {
    box-shadow: 0 0 20px rgba(229, 57, 53, 0.6), 0 0 40px rgba(229, 57, 53, 0.3);
    transform: translateY(-2px);
  }
  .btn-crimson:active { transform: translateY(0); }

  /* CTA Button — Neon outline */
  .btn-neon {
    @apply relative inline-flex items-center justify-center px-8 py-3 font-montserrat font-bold uppercase tracking-widest text-neon border border-neon overflow-hidden transition-all duration-300 bg-transparent;
    clip-path: polygon(0 0, calc(100% - 12px) 0, 100% 12px, 100% 100%, 12px 100%, 0 calc(100% - 12px));
  }
  .btn-neon::before {
    content: '';
    @apply absolute inset-0 bg-neon opacity-0 transition-opacity duration-300;
  }
  .btn-neon:hover::before { opacity: 0.1; }
  .btn-neon:hover {
    box-shadow: 0 0 20px rgba(0, 191, 255, 0.6), 0 0 40px rgba(0, 191, 255, 0.2);
    color: #fff;
  }

  /* Product Card */
  .product-card {
    @apply relative bg-surface-2 overflow-hidden transition-all duration-500 cursor-pointer;
    border: 1px solid rgba(255, 255, 255, 0.06);
    clip-path: polygon(0 0, calc(100% - 16px) 0, 100% 16px, 100% 100%, 16px 100%, 0 calc(100% - 16px));
  }
  .product-card:hover {
    border-color: rgba(229, 57, 53, 0.5);
    box-shadow: 0 0 30px rgba(229, 57, 53, 0.15), 0 20px 60px rgba(0, 0, 0, 0.5);
    transform: translateY(-8px);
  }

  /* Section title */
  .section-title {
    @apply font-bebas text-5xl md:text-7xl text-white relative inline-block;
    letter-spacing: 0.04em;
  }
  .section-title span {
    @apply text-crimson;
  }

  /* Graffiti tag badge */
  .tag-badge {
    @apply font-marker text-xs px-3 py-1 rounded-sm rotate-[-2deg] inline-block;
    background: rgba(229, 57, 53, 0.15);
    border: 1px solid rgba(229, 57, 53, 0.4);
    color: #E53935;
  }

  /* Nav link */
  .nav-link {
    @apply font-montserrat font-semibold uppercase tracking-widest text-sm text-urban transition-all duration-200 relative;
  }
  .nav-link::after {
    content: '';
    @apply absolute bottom-[-4px] left-0 w-0 h-[2px] bg-crimson transition-all duration-300;
  }
  .nav-link:hover { color: #ffffff; }
  .nav-link:hover::after { width: 100%; }
  .nav-link.active { color: #E53935; }
  .nav-link.active::after { width: 100%; }

  /* Input fields */
  .input-field {
    @apply w-full bg-surface-3 border border-white/10 text-white px-4 py-3 font-montserrat text-sm transition-all duration-300 outline-none;
    clip-path: polygon(0 0, calc(100% - 8px) 0, 100% 8px, 100% 100%, 8px 100%, 0 calc(100% - 8px));
  }
  .input-field:focus {
    border-color: rgba(0, 191, 255, 0.6);
    box-shadow: 0 0 0 1px rgba(0, 191, 255, 0.3), inset 0 0 20px rgba(0, 191, 255, 0.03);
  }
  .input-field::placeholder { color: rgba(176, 176, 176, 0.4); }
}

/* ─── Spray Canvas & Hero ──────────────────────────────── */
#spray-canvas {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  pointer-events: none;
  z-index: 1;
}

/* ─── Marquee Track ────────────────────────────────────── */
.marquee-track {
  display: flex;
  width: max-content;
  animation: marquee 30s linear infinite;
}

/* ─── Loading Screen ──────────────────────────────────── */
.loading-screen {
  position: fixed;
  inset: 0;
  background: #000;
  z-index: 9999;
  display: flex;
  align-items: center;
  justify-content: center;
  flex-direction: column;
  gap: 20px;
}

/* ─── Cart Drawer ──────────────────────────────────────── */
.cart-drawer {
  transform: translateX(100%);
  transition: transform 0.4s cubic-bezier(0.4, 0, 0.2, 1);
}
.cart-drawer.open {
  transform: translateX(0);
}

/* ─── Video Card ───────────────────────────────────────── */
.video-card {
  @apply relative overflow-hidden bg-surface-2 cursor-pointer;
  border: 1px solid rgba(255, 255, 255, 0.06);
  clip-path: polygon(0 0, calc(100% - 16px) 0, 100% 16px, 100% 100%, 16px 100%, 0 calc(100% - 16px));
}
.video-card::after {
  content: '';
  @apply absolute inset-0 opacity-0 transition-opacity duration-300;
  background: linear-gradient(135deg, rgba(229, 57, 53, 0.15), rgba(0, 191, 255, 0.1));
}
.video-card:hover::after { opacity: 1; }

/* ─── Timeline (About Page) ───────────────────────────── */
.timeline-item {
  @apply relative pl-8 pb-12;
}
.timeline-item::before {
  content: '';
  @apply absolute left-0 top-0 w-[2px] h-full bg-gradient-to-b from-crimson to-transparent;
}
.timeline-item::after {
  content: '';
  @apply absolute left-[-4px] top-0 w-[10px] h-[10px] bg-crimson rounded-full;
  box-shadow: 0 0 10px #E53935, 0 0 20px rgba(229, 57, 53, 0.5);
}

/* ─── Custom Cursor (optional, desktop only) ──────────── */
@media (hover: hover) and (pointer: fine) {
  .custom-cursor-area { cursor: crosshair; }
}

/* ─── Responsive Fixes ─────────────────────────────────── */
@media (max-width: 640px) {
  .section-title { @apply text-4xl; }
}
